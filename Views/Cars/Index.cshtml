@model IEnumerable<GarasiMobil.Models.Car>

@{
    ViewData["Title"] = "Data Mobil";
}

<div class="container">
    <!-- Page Header -->
    <div style="text-align: center; margin-bottom: 3rem;">
        <h1 class="section-title">
            <span class="material-symbols-outlined" style="vertical-align: middle; font-size: 2.5rem;">garage</span>
            Koleksi Mobil Kami
        </h1>
        <p style="color: var(--color-metalic-gray); max-width: 600px; margin: 0 auto;">
            Jelajahi berbagai pilihan mobil berkualitas dengan harga terbaik
        </p>
    </div>

    <!-- Action Button -->
    <div style="text-align: right; margin-bottom: 2rem;">
        <a class="btn-primary" asp-action="Create">
            <i class="bi bi-plus-circle me-2"></i>Tambah Mobil Baru
        </a>
    </div>

    <!-- Cars Grid -->
    @if (Model != null && Model.Any())
    {
        <div class="grid grid-cols-1 grid-cols-sm-2 grid-cols-lg-3 grid-cols-xl-4">
            @foreach (var car in Model)
            {
                <div class="card" style="background-color: #111; border: 1px solid rgba(255,255,255,0.1); border-radius: 0.75rem; padding: 1rem; color: white;">
                    <!-- Gambar Mobil -->
                    <div class="card-image" style="border-radius: 0.5rem; overflow: hidden; margin-bottom: 1rem;">
                        <div class="card-image-inner"
                             style="background-image: url('@(string.IsNullOrEmpty(car.GambarUrl) 
                                ? "https://source.unsplash.com/800x600/?car" 
                                : car.GambarUrl)');
                                    background-size: contain; 
                                    background-repeat: no-repeat;
                                    background-position: center; 
                                    height: 120x;
                                    transition: transform 0.3s ease;
                                    background-color: #000;">
                        </div>
                    </div>

                    <div>
                        <h3 class="card-title" style="font-weight: bold; font-size: 1.2rem;">@car.Merk @car.Model</h3>
                        <div style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <span class="material-symbols-outlined" style="font-size: 1rem; color: var(--color-metalic-gray);">calendar_today</span>
                            <span class="card-price">Tahun @car.Tahun</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <span class="material-symbols-outlined" style="font-size: 1rem; color: var(--color-metalic-gray);">palette</span>
                            <span class="card-price">@car.Warna</span>
                        </div>
                        <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                            <p style="color: var(--color-primary); font-size: 1.5rem; font-weight: bold; margin: 0;">
                                @car.Harga.ToString("C0")
                            </p>
                        </div>
                    </div>

                    <!-- Tombol Aksi -->
                    <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                        <a asp-action="Edit" asp-route-id="@car.Id"
                           style="flex: 1; padding: 0.5rem; background-color: rgba(212, 175, 55, 0.1); color: var(--color-primary); text-align: center; border-radius: 0.375rem; text-decoration: none; font-size: 0.875rem; font-weight: 600; transition: all 0.3s;">
                            <i class="bi bi-pencil"></i> Edit
                        </a>
                        <a asp-action="Delete" asp-route-id="@car.Id"
                           style="flex: 1; padding: 0.5rem; background-color: rgba(220, 38, 38, 0.1); color: #ef4444; text-align: center; border-radius: 0.375rem; text-decoration: none; font-size: 0.875rem; font-weight: 600; transition: all 0.3s;"
                           onclick="return confirm('Yakin ingin menghapus mobil @car.Merk @car.Model?');">
                            <i class="bi bi-trash"></i> Hapus
                        </a>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <div style="text-align: center; padding: 4rem; background-color: var(--color-surface-dark); border-radius: 1rem; border: 1px solid rgba(255, 255, 255, 0.1);">
            <span class="material-symbols-outlined" style="font-size: 4rem; color: var(--color-metalic-gray);">garage</span>
            <h3 style="color: white; margin-top: 1rem;">Belum Ada Mobil</h3>
            <p style="color: var(--color-metalic-gray); margin-bottom: 2rem;">
                Mulai tambahkan mobil pertama Anda ke dalam koleksi
            </p>
            <a class="btn-primary" asp-action="Create">
                <i class="bi bi-plus-circle me-2"></i>Tambah Mobil
            </a>
        </div>
    }
</div>

<style>
    .card:hover .card-image-inner {
        transform: scale(1.05);
    }

    .card a:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(212, 175, 55, 0.2);
    }
</style>
